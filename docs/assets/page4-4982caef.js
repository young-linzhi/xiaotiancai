import"./base-84a34c6e.js";import{a as u,E as n,b as L,c as T,d as y,e as v,f as U,g as k,h as W}from"./axios-996aca16.js";import"./el-popper-cd5883f2.js";import{E as c}from"./el-button-53302f5f.js";import{_ as z,d as F,o as E,c as P,a as l,w as t,f,F as $,b as p}from"./index-714ccf26.js";import"./index-fb735ca0.js";const D=F({data(){return{save:!0,page:1,totaldata:10,dialogFormVisible:!1,records:[],record:{id:0,type:0,name:"",platform:0,count:0,amount:0,perLimit:0,minPoint:0,startTime:"",endTime:"",useType:0,note:null,publishCount:0,useCount:0,receiveCount:0,enableTime:"",code:null,memberLevel:null}}},methods:{getpage(e,o){const s=this;u({method:"post",url:"http://mall.qzimp.cn/mall/sms-coupon/page",data:{current:e,size:o}}).then(function(b){s.records=b.data.data.page.records,s.totaldata=b.data.data.page.total})},jumper(){this.getpage(this.page,5)},Demandeupdate(){u({method:"post",url:"http://mall.qzimp.cn/mall/sms-coupon/edit",data:this.record}).then(function(e){e.data.success?n({message:"�����ɹ�.",type:"success"}):n({message:"����ʧ��",type:"error"})})},Demanderemove(e){u({method:"get",url:"http://mall.qzimp.cn/mall/sms-coupon/del/"+e}).then(function(o){console.log(o.data.success),o.data.success?n({message:"�����ɹ�.",type:"success"}):n({message:"����ʧ��",type:"error"})})},Demandeadd(){u({method:"post",url:"http://mall.qzimp.cn/mall/sms-coupon/add",data:this.record}).then(function(e){e.data.success?n({message:"�����ɹ�.",type:"success"}):n({message:"����ʧ��",type:"error"})})},update(e,o){console.log(o),this.lex=e,e==0?this.record=o:this.record={id:0,type:0,name:"",platform:0,count:0,amount:0,perLimit:0,minPoint:0,startTime:"",endTime:"",useType:0,note:null,publishCount:0,useCount:0,receiveCount:0,enableTime:"",code:null,memberLevel:null},this.dialogFormVisible=!this.dialogFormVisible},planeok(){this.lex==0?this.Demandeupdate():this.Demandeadd(),this.dialogFormVisible=!this.dialogFormVisible,location.reload(),this.$router.go(0)},planeno(){this.dialogFormVisible=!this.dialogFormVisible},remove(e){this.Demanderemove(e.id),location.reload(),this.$router.go(0)}},mounted(){this.getpage(this.page,5)}}),S={class:"demo-pagination-block"},q=f("div",{class:"demonstration"},"Jump to",-1),B={class:"dialog-footer"};function j(e,o,s,b,N,I){const d=v,m=c,h=L,V=T,i=U,r=k,g=W,w=y;return E(),P($,null,[l(h,{data:e.records,style:{width:"100%"}},{default:t(()=>[l(d,{prop:"id",label:"id",width:"60"}),l(d,{prop:"type",label:"type",width:"60"}),l(d,{prop:"name",label:"name",width:"140"}),l(d,{prop:"platform",label:"platform",width:"60"}),l(d,{prop:"count",label:"count",width:"60"}),l(d,{prop:"amount",label:"amount",width:"60"}),l(d,{prop:"perLimit",label:"perLimit",width:"60"}),l(d,{prop:"minPoint",label:"minPoint",width:"60"}),l(d,{prop:"startTime",label:"startTime",width:"280"}),l(d,{prop:"endTime",label:"endTime",width:"280"}),l(d,{prop:"useType",label:"useType",width:"60"}),l(d,{prop:"note",label:"note",width:"60"}),l(d,{prop:"publishCount",label:"publishCount",width:"60"}),l(d,{prop:"useCount",label:"useCount",width:"60"}),l(d,{prop:"receiveCount",label:"receiveCount",width:"60"}),l(d,{prop:"enableTime",label:"enableTime",width:"280"}),l(d,{prop:"code",label:"code",width:"100"}),l(d,{prop:"memberLevel",label:"memberLevel",width:"60"}),l(d,{fixed:"right",label:"Operations",width:"240"},{default:t(a=>[l(m,{link:"",type:"primary",size:"small",onClick:C=>e.update(0,a.row)},{default:t(()=>[p("update")]),_:2},1032,["onClick"]),l(m,{link:"",type:"primary",size:"small",onClick:C=>e.remove(a.row)},{default:t(()=>[p("remove")]),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data"]),f("div",S,[q,l(V,{"current-page":e.page,"onUpdate:currentPage":o[0]||(o[0]=a=>e.page=a),"page-size":e.pageSize3,"onUpdate:pageSize":o[1]||(o[1]=a=>e.pageSize3=a),small:e.small,disabled:e.disabled,background:e.background,layout:"prev, pager, next, jumper",total:e.totaldata,onSizeChange:e.handleSizeChange,onCurrentChange:e.handleCurrentChange,onClick:e.jumper},null,8,["current-page","page-size","small","disabled","background","total","onSizeChange","onCurrentChange","onClick"])]),l(w,{modelValue:e.dialogFormVisible,"onUpdate:modelValue":o[20]||(o[20]=a=>e.dialogFormVisible=a),title:"update"},{footer:t(()=>[f("span",B,[l(m,{onClick:e.planeno},{default:t(()=>[p("Cancel")]),_:1},8,["onClick"]),l(m,{type:"primary",onClick:e.planeok},{default:t(()=>[p(" Confirm ")]),_:1},8,["onClick"])])]),default:t(()=>[l(g,{model:e.record},{default:t(()=>[l(r,{label:"id","label-width":e.formLabelWidth},{default:t(()=>[l(i,{modelValue:e.record.id,"onUpdate:modelValue":o[2]||(o[2]=a=>e.record.id=a),autocomplete:"off"},null,8,["modelValue"])]),_:1},8,["label-width"]),l(r,{label:"type","label-width":e.formLabelWidth},{default:t(()=>[l(i,{modelValue:e.record.type,"onUpdate:modelValue":o[3]||(o[3]=a=>e.record.type=a),autocomplete:"off"},null,8,["modelValue"])]),_:1},8,["label-width"]),l(r,{label:"name","label-width":e.formLabelWidth},{default:t(()=>[l(i,{modelValue:e.record.name,"onUpdate:modelValue":o[4]||(o[4]=a=>e.record.name=a),autocomplete:"off"},null,8,["modelValue"])]),_:1},8,["label-width"]),l(r,{label:"platform","label-width":e.formLabelWidth},{default:t(()=>[l(i,{modelValue:e.record.platform,"onUpdate:modelValue":o[5]||(o[5]=a=>e.record.platform=a),autocomplete:"off"},null,8,["modelValue"])]),_:1},8,["label-width"]),l(r,{label:"count","label-width":e.formLabelWidth},{default:t(()=>[l(i,{modelValue:e.record.count,"onUpdate:modelValue":o[6]||(o[6]=a=>e.record.count=a),autocomplete:"off"},null,8,["modelValue"])]),_:1},8,["label-width"]),l(r,{label:"amount","label-width":e.formLabelWidth},{default:t(()=>[l(i,{modelValue:e.record.amount,"onUpdate:modelValue":o[7]||(o[7]=a=>e.record.amount=a),autocomplete:"off"},null,8,["modelValue"])]),_:1},8,["label-width"]),l(r,{label:"perLimit","label-width":e.formLabelWidth},{default:t(()=>[l(i,{modelValue:e.record.perLimit,"onUpdate:modelValue":o[8]||(o[8]=a=>e.record.perLimit=a),autocomplete:"off"},null,8,["modelValue"])]),_:1},8,["label-width"]),l(r,{label:"minPoint","label-width":e.formLabelWidth},{default:t(()=>[l(i,{modelValue:e.record.minPoint,"onUpdate:modelValue":o[9]||(o[9]=a=>e.record.minPoint=a),autocomplete:"off"},null,8,["modelValue"])]),_:1},8,["label-width"]),l(r,{label:"startTime","label-width":e.formLabelWidth},{default:t(()=>[l(i,{modelValue:e.record.startTime,"onUpdate:modelValue":o[10]||(o[10]=a=>e.record.startTime=a),autocomplete:"off"},null,8,["modelValue"])]),_:1},8,["label-width"]),l(r,{label:"endTime","label-width":e.formLabelWidth},{default:t(()=>[l(i,{modelValue:e.record.endTime,"onUpdate:modelValue":o[11]||(o[11]=a=>e.record.endTime=a),autocomplete:"off"},null,8,["modelValue"])]),_:1},8,["label-width"]),l(r,{label:"useType","label-width":e.formLabelWidth},{default:t(()=>[l(i,{modelValue:e.record.useType,"onUpdate:modelValue":o[12]||(o[12]=a=>e.record.useType=a),autocomplete:"off"},null,8,["modelValue"])]),_:1},8,["label-width"]),l(r,{label:"note","label-width":e.formLabelWidth},{default:t(()=>[l(i,{modelValue:e.record.note,"onUpdate:modelValue":o[13]||(o[13]=a=>e.record.note=a),autocomplete:"off"},null,8,["modelValue"])]),_:1},8,["label-width"]),l(r,{label:"publishCount","label-width":e.formLabelWidth},{default:t(()=>[l(i,{modelValue:e.record.publishCount,"onUpdate:modelValue":o[14]||(o[14]=a=>e.record.publishCount=a),autocomplete:"off"},null,8,["modelValue"])]),_:1},8,["label-width"]),l(r,{label:"useCount","label-width":e.formLabelWidth},{default:t(()=>[l(i,{modelValue:e.record.useCount,"onUpdate:modelValue":o[15]||(o[15]=a=>e.record.useCount=a),autocomplete:"off"},null,8,["modelValue"])]),_:1},8,["label-width"]),l(r,{label:"receiveCount","label-width":e.formLabelWidth},{default:t(()=>[l(i,{modelValue:e.record.receiveCount,"onUpdate:modelValue":o[16]||(o[16]=a=>e.record.receiveCount=a),autocomplete:"off"},null,8,["modelValue"])]),_:1},8,["label-width"]),l(r,{label:"enableTime","label-width":e.formLabelWidth},{default:t(()=>[l(i,{modelValue:e.record.enableTime,"onUpdate:modelValue":o[17]||(o[17]=a=>e.record.enableTime=a),autocomplete:"off"},null,8,["modelValue"])]),_:1},8,["label-width"]),l(r,{label:"code","label-width":e.formLabelWidth},{default:t(()=>[l(i,{modelValue:e.record.code,"onUpdate:modelValue":o[18]||(o[18]=a=>e.record.code=a),autocomplete:"off"},null,8,["modelValue"])]),_:1},8,["label-width"]),l(r,{label:"memberLevel","label-width":e.formLabelWidth},{default:t(()=>[l(i,{modelValue:e.record.memberLevel,"onUpdate:modelValue":o[19]||(o[19]=a=>e.record.memberLevel=a),autocomplete:"off"},null,8,["modelValue"])]),_:1},8,["label-width"])]),_:1},8,["model"])]),_:1},8,["modelValue"])],64)}const K=z(D,[["render",j]]);export{K as default};
