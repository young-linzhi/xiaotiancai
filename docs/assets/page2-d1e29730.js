import{E as k}from"./base-84a34c6e.js";import{a as u,E as r,b as I,c as N,d as E,e as z,f as F,g as v,h as U}from"./axios-996aca16.js";import"./el-popper-cd5883f2.js";/* empty css                */import{E as $}from"./el-button-53302f5f.js";import{_ as D,d as _,O as S,o as L,c as W,a as o,w as l,f as c,F as q,b as p}from"./index-714ccf26.js";import"./index-fb735ca0.js";const B=_({data(){return{save:!0,lex:0,dialogFormVisible:!1,page:1,totaldata:10,records:[],record:{id:0,couponId:0,productCategoryId:0,productCategoryName:"0",parentCategoryName:"0"}}},methods:{getpage(e,a){const g=this;u({method:"post",url:"http://mall.qzimp.cn/mall/sms-coupon-product-category-relation/page",data:{current:e,size:a}}).then(function(m){console.log(m),g.records=m.data.data.page.records,g.totaldata=m.data.data.page.total})},jumper(){this.getpage(this.page,5)},Demandeupdate(){u({method:"post",url:"http://mall.qzimp.cn/mall/sms-coupon-product-category-relation/edit",data:this.record}).then(function(e){e.data.success?r({message:"�����ɹ�.",type:"success"}):r({message:"����ʧ��",type:"error"})})},Demanderemove(e){u({method:"get",url:"http://mall.qzimp.cn/mall/sms-coupon-product-category-relation/del/"+e}).then(function(a){console.log(a.data.success),a.data.success?r({message:"�����ɹ�.",type:"success"}):r({message:"����ʧ��",type:"error"})})},Demandeadd(){u({method:"post",url:"http://mall.qzimp.cn/mall/sms-coupon-product-category-relation/add",data:this.record}).then(function(e){e.data.success?r({message:"�����ɹ�.",type:"success"}):r({message:"����ʧ��",type:"error"})})},update(e,a){this.lex=e,e==0?this.record=a:this.record={id:0,couponId:0,productCategoryId:0,productCategoryName:"",parentCategoryName:""},this.dialogFormVisible=!this.dialogFormVisible},planeok(){this.lex==0?this.Demandeupdate():this.Demandeadd(),this.dialogFormVisible=!this.dialogFormVisible,location.reload(),this.$router.go(0)},planeno(){this.dialogFormVisible=!this.dialogFormVisible},remove(e){this.Demanderemove(e.id),location.reload(),this.$router.go(0)}},mounted(){this.getpage(this.page,10)}}),j={class:"demo-pagination-block"},P=c("div",{class:"demonstration"},"Jump to",-1),T={class:"dialog-footer"};function O(e,a,g,m,J,M){const d=z,n=$,f=I,h=S("Upload"),b=k,C=N,i=F,s=v,y=U,V=E;return L(),W(q,null,[o(f,{data:e.records,style:{width:"100%"}},{default:l(()=>[o(d,{prop:"id",label:"id",width:"180"}),o(d,{prop:"couponId",label:"couponId",width:"180"}),o(d,{prop:"productCategoryId",label:"productCategoryId",width:"180"}),o(d,{prop:"productCategoryName",label:"productCategoryName",width:"280"}),o(d,{prop:"parentCategoryName",label:"parentCategoryName",width:"280"}),o(d,{fixed:"right",label:"Operations",width:"340"},{default:l(t=>[o(n,{type:"primary",plain:"",onClick:w=>e.update(0,t.row)},{default:l(()=>[p("Primary")]),_:2},1032,["onClick"]),o(n,{type:"danger",plain:"",onClick:w=>e.remove(t.row)},{default:l(()=>[p("Danger")]),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data"]),o(n,{type:"primary"},{default:l(()=>[p("Upload"),o(b,{class:"el-icon--right",onClick:a[0]||(a[0]=t=>e.update(1,0))},{default:l(()=>[o(h)]),_:1})]),_:1}),c("div",j,[P,o(C,{"current-page":e.page,"onUpdate:currentPage":a[1]||(a[1]=t=>e.page=t),"page-size":e.pageSize3,"onUpdate:pageSize":a[2]||(a[2]=t=>e.pageSize3=t),small:e.small,disabled:e.disabled,background:e.background,layout:"prev, pager, next, jumper",total:e.totaldata,onSizeChange:e.handleSizeChange,onCurrentChange:e.handleCurrentChange,onClick:e.jumper},null,8,["current-page","page-size","small","disabled","background","total","onSizeChange","onCurrentChange","onClick"])]),o(V,{modelValue:e.dialogFormVisible,"onUpdate:modelValue":a[8]||(a[8]=t=>e.dialogFormVisible=t),title:"update"},{footer:l(()=>[c("span",T,[o(n,{onClick:e.planeno},{default:l(()=>[p("Cancel")]),_:1},8,["onClick"]),o(n,{type:"primary",onClick:e.planeok},{default:l(()=>[p(" Confirm ")]),_:1},8,["onClick"])])]),default:l(()=>[o(y,{model:e.record},{default:l(()=>[o(s,{label:"id","label-width":e.formLabelWidth},{default:l(()=>[o(i,{modelValue:e.record.id,"onUpdate:modelValue":a[3]||(a[3]=t=>e.record.id=t),autocomplete:"off"},null,8,["modelValue"])]),_:1},8,["label-width"]),o(s,{label:"couponId","label-width":e.formLabelWidth},{default:l(()=>[o(i,{modelValue:e.record.couponId,"onUpdate:modelValue":a[4]||(a[4]=t=>e.record.couponId=t),autocomplete:"off"},null,8,["modelValue"])]),_:1},8,["label-width"]),o(s,{label:"productCategoryId","label-width":e.formLabelWidth},{default:l(()=>[o(i,{modelValue:e.record.productCategoryId,"onUpdate:modelValue":a[5]||(a[5]=t=>e.record.productCategoryId=t),autocomplete:"off"},null,8,["modelValue"])]),_:1},8,["label-width"]),o(s,{label:"productCategoryName","label-width":e.formLabelWidth},{default:l(()=>[o(i,{modelValue:e.record.productCategoryName,"onUpdate:modelValue":a[6]||(a[6]=t=>e.record.productCategoryName=t),autocomplete:"off"},null,8,["modelValue"])]),_:1},8,["label-width"]),o(s,{label:"parentCategoryName","label-width":e.formLabelWidth},{default:l(()=>[o(i,{modelValue:e.record.parentCategoryName,"onUpdate:modelValue":a[7]||(a[7]=t=>e.record.parentCategoryName=t),autocomplete:"off"},null,8,["modelValue"])]),_:1},8,["label-width"])]),_:1},8,["model"])]),_:1},8,["modelValue"])],64)}const Y=D(B,[["render",O]]);export{Y as default};
